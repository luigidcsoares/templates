%%% Copyright (C) 2021  Luigi D. C. Soares
%%%
%%% This program is free software: you can redistribute it and/or modify
%%% it under the terms of the GNU General Public License as published by
%%% the Free Software Foundation, either version 3 of the License, or
%%% (at your option) any later version.
%%%
%%% This program is distributed in the hope that it will be useful,
%%% but WITHOUT ANY WARRANTY; without even the implied warranty of
%%% MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
%%% GNU General Public License for more details.
%%%
%%% You should have received a copy of the GNU General Public License
%%% along with this program.  If not, see <https://www.gnu.org/licenses/>.

\mode<presentation>

\setbeamertemplate{background}{
    \begin{tikzpicture}
        %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
        %%%%%%%%%%%%%%%%%%%%%%% Background %%%%%%%%%%%%%%%%%%%%%
        %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
        \fill[color=background]
            (0, 0)
            rectangle
            (\paperwidth, \paperheight);
        %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
        %%%%%%%%%%%%%%%%%%%%%%%% Footline %%%%%%%%%%%%%%%%%%%%%%
        %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
        \fill[color=footleft]
            (0, 0)
            rectangle
            (.33\paperwidth, \footlineheight);
        \fill[color=footmid]
            (.33\paperwidth, 0)
            rectangle
            (.67\paperwidth, \footlineheight);
        \fill[color=footright]
            (.67\paperwidth, 0)
            rectangle
            (\paperwidth, \footlineheight);
    \end{tikzpicture}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%% Title Page %%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\defbeamertemplate*{title page}{ufmg}{
    \vspace{.2\paperheight}

    \begin{beamercolorbox}[wd=.9\paperwidth, center, sep=8pt]
    {title page header}
        \usebeamerfont{title}\bfseries\inserttitle\par
    \end{beamercolorbox}%

    \begin{beamercolorbox}[wd=.9\paperwidth, center, sep=8pt]
    {title page header}
        \usebeamerfont{subtitle}\insertsubtitle\par
    \end{beamercolorbox}%

    \vfill{}

    \begin{beamercolorbox}[wd=.9\paperwidth, center, sep=8pt]
    {title page header}
        \usebeamerfont{author}\insertauthor\par
    \end{beamercolorbox}%
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%% Section Page %%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% The multiple \hfill are used to center the title page
%%% content, regardless of the chosen aspect ratio.
\defbeamertemplate*{section page}{ufmg}{
    \begin{center}
      \vfill{}
      {
        \centering
        \usebeamerfont{section title}\insertsection{}
        \par
      }
      \noindent\rule{\textwidth}{.75pt}
      \vfill{}
    \end{center}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Items %%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% Place enumerate items inside circles. The easy way is to %%%
%%% do like \setbeamertemplate{enumerate items}[circle], but %%%
%%% with tikz we can control the inner space.                %%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\defbeamertemplate*{enumerate item}{ufmg}{
    \usebeamercolor{item projected}
    \usebeamerfont{item projected}
    \tikz[baseline=(X.base)]{
        \node[fill=bg, text=fg, inner sep=1.25pt, circle]
            (X)
            {\insertenumlabel};
    }
}
\defbeamertemplate*{enumerate subitem}{ufmg}{
    \usebeamercolor{item projected}
    \usebeamerfont{item projected}
    \tikz[baseline=(X.base)]{
        \node[fill=bg, text=fg, inner sep=1.25pt, circle]
            (X)
            {\insertsubenumlabel};
    }
}
\defbeamertemplate*{enumerate subsubitem}{ufmg}{
    \usebeamercolor{item projected}
    \usebeamerfont{item projected}
    \tikz[baseline=(X.base)]{
        \node[fill=bg, text=fg, inner sep=1.25pt, circle]
            (X)
            {\insertsubsubenumlabel};
    }
}

\mode<all>
